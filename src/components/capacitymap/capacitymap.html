<section class="capacitymap">
  <v-card>
    <v-card-title primary-title>
      <v-layout row wrap>
        <v-flex xs7>
          Capacity finder
        </v-flex>
        <v-flex>
          <span v-if="!showResult">Filters</span>
          <span v-if="showResult">
            <v-btn icon small @click="showResult = false">
              <v-icon small>fa-arrow-left</v-icon>
            </v-btn>
            Results
          </span>
        </v-flex>
      </v-layout>
    </v-card-title>
    <v-card-text>
      <v-layout>
        <v-flex d-flex xs7>
          <geo-chart :data="[['United States', 44], ['Germany', 23], ['Brazil', 22]]" @click.native="showResult = true">
          </geo-chart>
        </v-flex>
        <v-flex d-flex>
          <v-layout column align-content-space-between v-if="!showResult">
            <v-flex>
              <v-select :items="farmers" label="Farmer" prepend-icon="fas fa-digging"></v-select>
            </v-flex>
            <v-flex>
              <capacityselector icon="fa-microchip" label="CRU" />
            </v-flex>
            <v-flex>
              <capacityselector icon="fas fa-memory" label="MRU" />
            </v-flex>
            <v-flex>
              <capacityselector icon="fad fa-hdd" label="HRU" />
            </v-flex>
            <v-flex>
              <capacityselector icon="fas fa-hdd" label="SRU" />
            </v-flex>
          </v-layout>
          <v-layout column justify-space-around v-else>
            <v-data-table show-expand item-key="name" :headers="headers" :items="items" :items-per-page="5" single-expand :expanded.sync="expanded">
                <template v-slot:expanded-item="{ headers }">
                  <td :colspan="headers.length">Peek-a-boo!</td>
                </template>
            </v-data-table>
            <!-- <v-layout v-for="(item, i) in items" :key="i">
              <v-flex xs3>
                Name
              </v-flex>
              <v-flex>
                {{item.name}}
              </v-flex>
            </v-layout> -->
          </v-layout>
        </v-flex>
      </v-layout>
    </v-card-text>
  </v-card>
</section>